<!DOCTYPE html>
<html>
<head>

  <title>
    Snake Mod Loader
  </title>
  
</head>
<body>

  <iframe src="https://a1game.github.io/GSnake/index.html" id="snake" onload="this.width=screen.width;this.height=screen.height;"></iframe>
<script>
const iframe = document.getElementById('snake');
const iframeWin = iframe.contentWindow || iframe;
const iframeDoc = iframe.contentDocument || iframeWin.document;

  var script = iframeDoc.createElement("script");
  script.append(`
(function()%7Bconst%20IS_DEVELOPER_MODE%20%3D%20false%3B%0Aconst%20VERSION%20%3D%20'1.0.11'%3B%2F%2FGets%20set%20to%20version%20in%20build%20script%0Aconst%20UPDATE_URL%20%3D%20'https%3A%2F%2Fgithub.com%2FDarkSnakeGang%2FGoogleSnakeModLoader%2Fraw%2Fmain%2Fbuild%2Fsnake-mod-loader-fbx.user.js'%3B%2F%2FGets%20set%20from%20build%20script%0A%0A%2F%2FExternal%20config%20that%20determines%20which%20mods%20the%20modloader%20has%0Alet%20externalConfig%20%3D%20%7B%0A%20%20modInfo%3A%20null%2C%0A%20%20hasError%3A%20false%2C%0A%20%20load%3A%20function()%20%7B%0A%20%20%20%20%2F%2FLoad%20the%20external%20JSON%20configuration%20file%20which%20contains%20info%20about%20the%20different%20mods%20and%20the%20modloader%20itself.%0A%20%20%20%20if(this.modInfo%20!%3D%3D%20null)%20%7Breturn%3B%7D%2F%2FAlready%20loaded%20-%20exit%20early%0A%20%20%20%20if(externalConfig.hasError)%20%7B%0A%20%20%20%20%20%20console.log('Skipping%20trying%20to%20load%20external%20config%20as%20we%20had%20an%20error%20when%20we%20tried%20previously')%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FMake%20a%20synchronous%20request%20for%20modInfo%20JSON%20file%0A%20%20%20%20let%20req%20%3D%20new%20XMLHttpRequest()%3B%0A%20%20%20%20req.open('GET'%2C%20'https%3A%2F%2Fraw.githubusercontent.com%2FDarkSnakeGang%2FGoogleSnakeModLoader%2Fmain%2Fbuild%2Fmod-info.json'%2C%20false)%3B%0A%20%20%20%20req.onload%20%3D%20function()%20%7B%0A%20%20%20%20%20%20if(this.status%20%3D%3D%3D%20200)%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20externalConfig.modInfo%20%3D%20JSON.parse(this.responseText)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if(IS_DEVELOPER_MODE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20externalConfig.addDeveloperOptions()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20catch(err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error('Failed%20to%20parse%20JSON%20for%20mod%20config.')%3B%0A%20%20%20%20%20%20%20%20%20%20console.log(%60Response%20recieved%3A%20%24%7Bthis.responseText%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20console.error(err)%3B%0A%20%20%20%20%20%20%20%20%20%20externalConfig.hasError%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20console.error(%60Loading%20external%20config%20from%20https%3A%2F%2Fraw.githubusercontent.com%2FDarkSnakeGang%2FGoogleSnakeModLoader%2Fmain%2Fbuild%2Fmod-info.json%20returned%20non-200%20status.%20Received%3A%20%24%7Bthis.status%7D%60)%3B%0A%20%20%20%20%20%20%20%20externalConfig.hasError%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20req.onerror%20%3D%20function(event)%20%7B%0A%20%20%20%20%20%20console.error('Error%20when%20attempting%20to%20retrieve%20external%20config%20from%20https%3A%2F%2Fraw.githubusercontent.com%2FDarkSnakeGang%2FGoogleSnakeModLoader%2Fmain%2Fbuild%2Fmod-info.json')%3B%0A%20%20%20%20%20%20console.log(event)%3B%0A%20%20%20%20%20%20externalConfig.hasError%20%3D%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20req.send()%3B%0A%20%20%7D%2C%0A%20%20addDeveloperOptions%3A%20function()%20%7B%0A%20%20%20%20this.modInfo.modsConfig.testMod%20%3D%20%7B%0A%20%20%20%20%20%20displayName%3A%20'Test%20Mod'%2C%0A%20%20%20%20%20%20hasUrl%3A%20false%2C%0A%20%20%20%20%20%20modDescription%3A%20%7B%0A%20%20%20%20%20%20%20%20descriptionName%3A%20'Test%20Mod'%2C%0A%20%20%20%20%20%20%20%20authors%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20'N%2FA'%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20description%3A%20'For%20mod%20developers%20only.%20Edit%20window.testMod%20in%20the%20userscript%20code.'%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this.modInfo.modsConfig.customUrl%20%3D%20%7B%0A%20%20%20%20%20%20displayName%3A%20'Load%20from%20url'%2C%0A%20%20%20%20%20%20customModName%3A%20JSON.parse(localStorage.getItem('snakeAdvancedSettings'))%3F.customModName%20%3F%3F%20'PLEASE_CHOOSE_CUSTOM_NAME_FROM_ADVANCED_SETTINGS'%2C%0A%20%20%20%20%20%20url%3A%20JSON.parse(localStorage.getItem('snakeAdvancedSettings'))%3F.customUrl%20%3F%3F%20'PLEASE_CHOOSE_URL_FROM_ADVANCED_SETTINGS'%2C%0A%20%20%20%20%20%20hasUrl%3A%20true%2C%0A%20%20%20%20%20%20modDescription%3A%20%7B%0A%20%20%20%20%20%20%20%20descriptionName%3A%20'Load%20from%20url'%2C%0A%20%20%20%20%20%20%20%20authors%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20'N%2FA'%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20description%3A%20'For%20mod%20developers%20only.%20Enter%20details%20of%20a%20mod%20in%20the%20advanced%20options.'%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2FPrevent%20someone%20from%20running%20more%20than%20one%20copy%20of%20mod%20loader%20at%20once.%0Aif(window.isModLoaderRunning)%20%7B%0A%20%20alert('It%20appears%20that%20you%20have%20more%20than%20one%20copy%20of%20the%20snake%20mod%20loader%20trying%20to%20run%20at%20the%20same%20time.%20Please%20disable%2Fremove%20the%20extra%20copy%20from%20the%20tampermonkey%20settings.')%3B%0A%20%20throw%20Error('Multiple%20copies%20of%20the%20mod%20loader%20trying%20to%20run%20at%20once.')%3B%0A%7D%0A%0Awindow.isModLoaderRunning%20%3D%20true%3B%0Awindow.hasFoundSnakeCodeYet%20%3D%20false%3B%0A%0A%2F%2FReplace%20appendChild%20so%20we%20can%20intercept%20it%0Adocument.body.appendChildOld%20%3D%20document.body.appendChild%3B%0A%0Adocument.body.appendChild%20%3D%20function(el)%20%7B%0A%20%20if(el.tagName%20!%3D%3D%20'SCRIPT')%20return%20document.body.appendChildOld(el)%3B%0A%0A%20%20%2F%2FBasic%20checks%20to%20filter%20out%20scripts%20which%20can't%20be%20the%20snake%20script%0A%20%20if(el.src%20%3D%3D%3D%20''%20%7C%7C%20el.src.includes('apis.google.com')%20%7C%7C%20!el.src.includes('www.google'))%20return%20document.body.appendChildOld(el)%3B%0A%0A%20%20%2F%2FCheck%20if%20the%20script%20is%20either%20the%20funbox%20experiment%20one%2C%20or%20has%20xjs%3Ds1%20(for%20fbx%20link)%2C%20or%20has%20just%20xjs%20folder%20(for%20search%20snake)%0A%20%20let%20isSrcCorrectFormat%20%3D%20el.src.includes('funbox')%20%7C%7C%20el.src.includes('xjs%3Ds1')%20%7C%7C%20(!window.location.href.includes('fbx%3Ffbx%3Dsnake_arcade')%20%26%26%20el.src.includes('%2Fxjs%2F'))%3B%0A%20%20if(!isSrcCorrectFormat)%20return%20document.body.appendChildOld(el)%3B%0A%0A%20%20%2F%2FCheck%20if%20we're%20actually%20running%20a%20mod%0A%20%20const%20currentlySelectedMod%20%3D%20localStorage.getItem('snakeChosenMod')%3B%0A%20%20if(currentlySelectedMod%20%3D%3D%3D%20null%20%7C%7C%20currentlySelectedMod%20%3D%3D%3D%20'none')%20return%20document.body.appendChildOld(el)%3B%0A%0A%20%20%2F%2Fdefault%20behaviour%20if%20we%20can't%20find%20any%20snake%20images%20on%20the%20webpage%0A%20%20if(document.body.querySelector('img%5Bsrc*%3D%22snake_arcade%22%5D')%20%3D%3D%3D%20null%20%26%26%20!window.location.href.includes('fbx%3Ffbx%3Dsnake_arcade'))%20return%20document.body.appendChildOld(el)%3B%0A%0A%20%20%2F%2FMake%20sure%20to%20return%20the%20correct%20thing%20that%20appendChild%20would%20normally%20return%0A%20%20let%20returnVal%20%3D%20el%20instanceof%20DocumentFragment%20%3F%20new%20DocumentFragment%20%3A%20el%3B%0A%0A%20%20%2F*%0A%20%20%20%20Run%20some%20code%20depending%20on%20what%20google%20snake%20mod%20was%20chosen%0A%20%20%20%20Request%20the%20text%20contents%20of%20the%20google%20snake%20code.%0A%20%20%20%20Alter%20the%20contents%20of%20the%20google%20snake%20code%20(depending%20on%20the%20selected%20mod)%20and%20then%20eval%0A%20%20%20%20Run%20some%20code%20afterwards%20depending%20on%20what%20google%20snake%20mod%20was%20chosen%0A%20%20*%2F%0A%20%20const%20req%20%3D%20new%20XMLHttpRequest()%3B%0A%20%20req.open('GET'%2C%20el.src%2C%20false)%3B%0A%0A%20%20req.onload%20%3D%20function()%20%7B%0A%20%20%20%20%2F%2FDo%20default%20behaviour%20if%20the%20source%20code%20doesn't%20look%20like%20the%20google%20snake%20code.%0A%20%20%20%20%2F%2FSet%20returnVal%20so%20it%20returns%20the%20correct%20thing%20for%20document.body.appendChild.%0A%20%20%20%20if(this.responseText.indexOf('trophy')%20%3D%3D%3D%20-1%20%7C%7C%20this.responseText.indexOf('apple')%20%3D%3D%3D%20-1%20%7C%7C%20this.responseText.indexOf('snake_arcade')%20%3D%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20returnVal%20%3D%20document.body.appendChildOld(el)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FCode%20for%20catching%20the%20case%20where%20the%20snake%20code%20has%20changed%20URL.%0A%20%20%20%20window.hasFoundSnakeCodeYet%20%3D%20true%3B%0A%20%20%20%20let%20codeNotFoundMessage%20%3D%20document.getElementById('code-not-found-message')%3B%0A%20%20%20%20if(codeNotFoundMessage)%20%7B%0A%20%20%20%20%20%20codeNotFoundMessage.style.display%20%3D%20'none'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FLoad%20the%20external%20modloader%20configuration%20(contains%20info%20about%20each%20of%20the%20different%20mods)%0A%20%20%20%20externalConfig.load()%3B%0A%20%20%20%20if(externalConfig.hasError)%20%7B%0A%20%20%20%20%20%20returnVal%20%3D%20document.body.appendChildOld(el)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20let%20modsConfig%20%3D%20externalConfig.modInfo.modsConfig%3B%0A%0A%20%20%20%20console.log(%60Selected%20mod%3A%20%24%7BcurrentlySelectedMod%7D%60)%3B%0A%20%20%20%20%2F%2FMake%20sure%20currentlySelectedMod%20is%20an%20allowed%20value%0A%20%20%20%20if(!(modsConfig.hasOwnProperty(currentlySelectedMod)%20%7C%7C%20currentlySelectedMod%20%3D%3D%3D%20'none'%20%7C%7C%20currentlySelectedMod%20%3D%3D%3D%20null))%20%7B%0A%20%20%20%20%20%20const%20errMessage%20%3D%20%60Bad%20value%20of%20snakeChosenMod%3A%20%24%7BcurrentlySelectedMod%7D.%20The%20current%20allowed%20values%20are%20%24%7BObject.keys(modsConfig)%7D.%20Changing%20this%20to%20the%20%22None%22%20setting%20for%20next%20time.%60%3B%0A%20%20%20%20%20%20localStorage.setItem('snakeChosenMod'%2C%20'none')%3B%0A%20%20%20%20%20%20if(confirm('Disallowed%20choice%20of%20mod.%20Changing%20this%20to%20none.%20Refresh%20the%20page%3F'))%20%7Blocation.reload()%3B%7D%0A%20%20%20%20%20%20throw%20new%20Error(errMessage)%3B%0A%20%20%20%20%7D%20%0A%0A%20%20%20%20if(modsConfig%5BcurrentlySelectedMod%5D.hasUrl)%20%7B%0A%20%20%20%20%20%20const%20modUrl%20%3D%20modsConfig%5BcurrentlySelectedMod%5D.url%3B%0A%0A%20%20%20%20%20%20%2F%2FLoad%20and%20run%20the%20code%20for%20this%20mod.%0A%20%20%20%20%20%20console.log(%60Retrieving%20code%20for%20this%20mod%20from%20%24%7BmodUrl%7D%60)%3B%0A%0A%20%20%20%20%20%20loadAndRunCodeSynchronous(modUrl)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FName%20of%20the%20object%20that%20contains%20runCodeBefore%2FalterSnakeCode%2FrunCodeAfter%20methods%0A%20%20%20%20let%20modObjectName%20%3D%20currentlySelectedMod%3B%0A%20%20%20%20if(IS_DEVELOPER_MODE%20%26%26%20modsConfig%5BcurrentlySelectedMod%5D.customModName)%20%7B%0A%20%20%20%20%20%20modObjectName%20%3D%20modsConfig%5BcurrentlySelectedMod%5D.customModName%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FSkip%20below%20if%20either%20the%20code%20didn't%20load%2C%20or%20it%20has%20the%20wrong%20variable%0A%20%20%20%20if(!window%5BmodObjectName%5D)%20%7B%0A%20%20%20%20%20%20(0%2Ceval)(this.responseText)%3B%0A%20%20%20%20%20%20throw%20new%20Error(%60We%20were%20expecting%20to%20find%20a%20global%20variable%20called%20window.%24%7BmodObjectName%7D%20but%20this%20is%20missing.%20Running%20snake%20without%20the%20mod.%60)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FMod%20specific%20code%20to%20run%20before%20running%20google%20snake%20script%0A%20%20%20%20if(window%5BmodObjectName%5D.runCodeBefore)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20window%5BmodObjectName%5D.runCodeBefore()%3B%0A%20%20%20%20%20%20%7D%20catch(err)%20%7B%0A%20%20%20%20%20%20%20%20console.error(err)%3B%0A%20%20%20%20%20%20%20%20alert(%60Error%20occurred%20before%20running%20snake%20code.%20Attempting%20to%20continue%2C%20but%20the%20mod%20may%20be%20broken.%20Error%20message%20logged%20to%20console.%60)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20let%20newSnakeCode%3B%0A%20%20%20%20%2F%2FAlter%20google%20snake%20code%20and%20then%20run%20it%0A%20%20%20%20if(window%5BmodObjectName%5D.alterSnakeCode)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20newSnakeCode%20%3D%20window%5BmodObjectName%5D.alterSnakeCode(this.responseText)%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20let%20snakeErrEl%20%3D%20document.getElementById('snake-error-message')%0A%20%20%20%20%20%20%20%20if(snakeErrEl)%20%7BsnakeErrEl.style.display%20%3D%20'block'%3B%7D%0A%20%20%20%20%20%20%20%20window.showSnakeErrMessage%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20console.log('Displaying%20message%20to%20user%20and%20then%20running%20the%20google%20snake%20script%20and%20then%20throwing%20the%20original%20error%20that%20occurred%20in%20%22alterSnakeCode%22')%3B%0A%20%20%20%20%20%20%20%20(0%2Ceval)(this.responseText)%3B%0A%20%20%20%20%20%20%20%20throw%20err%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20(0%2Ceval)(newSnakeCode)%3B%0A%0A%20%20%20%20%2F%2FMod%20specific%20code%20to%20run%20after%20running%20google%20snake%20script%0A%20%20%20%20if(window%5BmodObjectName%5D.runCodeAfter)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20window%5BmodObjectName%5D.runCodeAfter()%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20console.error(err)%3B%0A%20%20%20%20%20%20%20%20alert(%60Error%20occurred%20after%20running%20snake%20code.%20The%20mod%20may%20be%20partly%20broken.%20Error%20message%20logged%20to%20console.%60)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%0A%20%20%7D%3B%0A%0A%20%20req.send()%3B%0A%0A%20%20return%20returnVal%3B%0A%7D%0A%0A%2F%2FSetup%20Modal%20box%20that%20lets%20the%20user%20choose%20which%20mod%20to%20run%0Alet%20addModSelectorPopup%20%3D%20function()%20%7B%0A%20%20if(document.body.querySelector('img%5Bsrc*%3D%22snake_arcade%22%5D')%20%3D%3D%3D%20null%20%26%26%20!window.location.href.includes('fbx%3Ffbx%3Dsnake_arcade'))%20%7B%0A%20%20%20%20%2F%2FWe%20aren't%20on%20a%20page%20with%20google%20snake.%20Don't%20show%20the%20mod%20selector%20dialogue.%20Exit%20early.%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20setTimeout(checkFoundSnakeCode%2C%204000)%3B%0A%0A%20%20%2F%2FSet%20up%20CSS%0A%20%20const%20css%20%3D%20%60%0A%20%20.mod-sel-btn%3Ahover%20%7B%0A%20%20%20%20background-color%3A%20var(--mod-loader-button-hover)%20!important%3B%0A%20%20%7D%0A%0A%20%20.mod-sel-btn%3Aactive%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23f0e9e5%20!important%3B%0A%20%20%7D%0A%0A%20%20%2F*light%20theme*%2F%0A%20%20%23mod-indicator%2C%20%23mod-selector-dialogue-container%2C%20%23start-message-dialogue-container%20%7B%0A%20%20%20%20--mod-loader-font-col%3A%20%23000000%3B%0A%20%20%20%20--mod-loader-main-bg%3A%20%23fffce0%3B%0A%20%20%20%20--mod-loader-title-bg%3A%20%23ece9d4%3B%0A%20%20%20%20--mod-loader-title-border%3A%20%23e4e0be%3B%0A%20%20%20%20--mod-loader-thin-border%3A%20%23cccccc%3B%0A%20%20%20%20--mod-loader-indicator-display-bg%3A%20%23eeeaca%3B%0A%20%20%20%20--mod-loader-link-font-col%3A%20%23069%3B%0A%20%20%20%20--mod-loader-button-bg%3A%20%23fcf6f2%3B%0A%20%20%20%20--mod-loader-button-close-col%3A%20%23606060%3B%0A%20%20%20%20--mod-loader-button-apply-col%3A%20%234caf50%3B%0A%20%20%20%20--mod-loader-button-settings-col%3A%20%234c7caf%3B%0A%20%20%20%20--mod-loader-button-hover%3A%20%23fefcfb%3B%0A%20%20%7D%0A%0A%20%20%2F*dark%20theme*%2F%0A%20%20%23mod-indicator.dark-mod-theme%2C%20%23mod-selector-dialogue-container.dark-mod-theme%2C%20%23start-message-dialogue-container.dark-mod-theme%20%7B%0A%20%20%20%20--mod-loader-font-col%3A%20%23ffffff%3B%0A%20%20%20%20--mod-loader-main-bg%3A%20%231F1F22%3B%2F*orig%2Fsecond%23343542%3B*%2F%0A%20%20%20%20--mod-loader-title-bg%3A%20%2334343a%3B%2F*second%20-%20%2353556a%3B*%2F%2F*orig%20-%20%2366636f%3B*%2F%0A%20%20%20%20--mod-loader-title-border%3A%20%23414147%3B%2F*second%20-%20%2347464e%3B*%2F%2F*orig%20-%20%237d7a89%3B*%2F%0A%20%20%20%20--mod-loader-thin-border%3A%20%23ccc%3B%0A%20%20%20%20--mod-loader-indicator-display-bg%3A%20%23000000%3B%0A%20%20%20%20--mod-loader-link-font-col%3A%20%2318f6ff%3B%0A%20%20%20%20--mod-loader-button-bg%3A%20%23010104%3B%0A%20%20%20%20--mod-loader-button-close-col%3A%20%23b5b5b5%3B%0A%20%20%20%20--mod-loader-button-apply-col%3A%20%235cf062%3B%0A%20%20%20%20--mod-loader-button-settings-col%3A%20%235ba0f0%3B%0A%20%20%20%20--mod-loader-button-hover%3A%20%23666666%3B%0A%20%20%7D%0A%0A%20%20.start-hidden%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%20%20%7D%0A%0A%20%20.start-hidden.show-hidden%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%7D%0A%20%20%60%3B%0A%0A%20%20document.getElementsByTagName('style')%5B0%5D.innerHTML%20%3D%20document.getElementsByTagName('style')%5B0%5D.innerHTML%20%2B%20css%3B%0A%0A%20%20const%20modCornerIndicatorHTML%20%3D%20%60%0A%20%20%20%20%20%20%3Cspan%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3ECurrent%20mod%3A%20%3C%2Fspan%3E%3Cspan%20id%3D%22mod-name-span%22%20style%3D%22background-color%3A%20var(--mod-loader-indicator-display-bg)%3Bpadding%3A%202px%3Bborder-radius%3A%203px%3Bfont-family%3A%20consolas%2C%20monospace%3B%20color%3Avar(--mod-loader-font-col)%20!important%22%3E%3C%2Fspan%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22change-mod-button%22%20style%3D%22text-align%3A%20center%3Bfont-size%3A%200.84em%3Bfont-family%3A%20arial%2C%20sans-serif%3Bcolor%3A%20var(--mod-loader-link-font-col)%3Btext-decoration%3A%20underline%3Bcursor%3A%20pointer%3Bmargin-top%3A%203px%3B%22%3EChange%20mod%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22snake-error-message%22%20style%3D%22font-family%3A%20helvetica%2C%20sans-serif%3Bcolor%3A%20%23f44336%3Bmargin-top%3A%202px%3Bdisplay%3A%20%24%7Bwindow.showSnakeErrMessage%20%3F%20'block'%20%3A%20'none'%7D%3B%22%3E%0A%20%20%20%20%20%20%20%20Error%20changing%20snake%20code.%0A%20%20%20%20%20%20%20%20%3Cbr%3E%0A%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A%2F%2Fgithub.com%2FDarkSnakeGang%2FGoogleSnakeModLoader%2Fblob%2Fmain%2Fdocs%2Fmod_errors.md%22%20target%3D%22_blank%22%20style%3D%22color%3A%20var(--mod-loader-link-font-col)%3B%22%3EWhy%20does%20this%20happen%3F%3C%2Fa%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22code-not-found-message%22%20style%3D%22font-family%3A%20helvetica%2C%20sans-serif%3Bcolor%3A%20%23f44336%3Bmargin-top%3A%202px%3Bdisplay%3A%20none%3B%22%3E%0A%20%20%20%20%20%20%20%20Code%20not%20found%20after%204%20seconds.%0A%20%20%20%20%20%20%20%20%3Cbr%3E%0A%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A%2F%2Fgithub.com%2FDarkSnakeGang%2FGoogleSnakeModLoader%2Fblob%2Fmain%2Fdocs%2Fcode_not_found_yet.md%22%20target%3D%22_blank%22%20style%3D%22color%3A%20var(--mod-loader-link-font-col)%3B%22%3EIs%20it%20not%20working%3F%3C%2Fa%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22config-not-loaded-message%22%20style%3D%22font-family%3A%20helvetica%2C%20sans-serif%3Bcolor%3A%20%23f44336%3Bmargin-top%3A%202px%3Bdisplay%3A%20none%3B%22%3E%0A%20%20%20%20%20%20%20%20Error%3A%20Failed%20to%20load%20external%20configuration.%0A%20%20%20%20%20%20%20%20%3Cbr%3E%0A%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A%2F%2Fgithub.com%2FDarkSnakeGang%2FGoogleSnakeModLoader%2Fblob%2Fmain%2Fdocs%2Fconfig_not_loaded.md%22%20target%3D%22_blank%22%20style%3D%22color%3A%20var(--mod-loader-link-font-col)%3B%22%3EWhat%20does%20this%20mean%3F%3C%2Fa%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%60%3B%0A%0A%20%20let%20modIndicatorEl%20%3D%20document.createElement('div')%3B%0A%20%20modIndicatorEl.id%20%3D%20'mod-indicator'%3B%0A%20%20modIndicatorEl.style%20%3D%20'z-index%3A%209999999%3Bbackground-color%3A%20var(--mod-loader-main-bg)%20!important%3Bposition%3A%20fixed%3Bbottom%3A%200%3Bright%3A%200%3Bborder-top%3A%201px%20solid%20var(--mod-loader-thin-border)%3Bborder-left%3A%201px%20solid%20var(--mod-loader-thin-border)%3Bfont-size%3A%201.2em%3Bborder-top-left-radius%3A%205px%3Bpadding%3A%205px%3B-webkit-box-shadow%3A%200px%200px%207px%201px%20hwb(0deg%200%25%20100%25%20%2F%2012%25)%3Bbox-shadow%3A%200px%200px%207px%201px%20rgb(0%200%200%20%2F%2012%25)%3Bfont-family%3A%20helvetica%2C%20sans-serif%3Bheight%3A%20initial%3Buser-select%3Anone%3Bdisplay%3Ablock'%3B%0A%20%20modIndicatorEl.innerHTML%20%3D%20modCornerIndicatorHTML%3B%0A%20%20document.body.appendChild(modIndicatorEl)%3B%0A%0A%20%20document.getElementById('change-mod-button').addEventListener('click'%2C%20()%3D%3E%7B%0A%20%20%20%20document.getElementById('mod-selector-dialogue-container').style.display%20%3D%20document.getElementById('mod-selector-dialogue-container').style.display%20%3D%3D%3D%20'none'%20%3F%20'block'%20%3A%20'none'%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F%2FLoad%20the%20external%20modloader%20configuration%20(contains%20info%20about%20each%20of%20the%20different%20mods)%0A%20%20externalConfig.load()%3B%0A%20%20let%20modsConfig%3B%0A%20%20if(externalConfig.hasError)%20%7B%0A%20%20%20%20%2F%2FShow%20error%20message%20if%20the%20external%20config%20isn't%20available%0A%20%20%20%20document.getElementById('config-not-loaded-message').style.display%20%3D%20'block'%3B%0A%20%20%20%20%2F%2FMake%20sure%20that%20the%20indicator%20is%20actually%20visible%0A%20%20%20%20let%20modIndicatorEl%20%3D%20document.getElementById('mod-indicator')%3B%0A%20%20%20%20if(modIndicatorEl)%20%7B%0A%20%20%20%20%20%20modIndicatorEl.style.display%20%3D%20'block'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20window.showSnakeErrMessage%20%3D%20true%3B%2F%2FUsed%20to%20prevent%20the%20indicator%20being%20auto-hidden%0A%20%20%20%20modsConfig%20%3D%20%7B%7D%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20modsConfig%20%3D%20externalConfig.modInfo.modsConfig%3B%0A%20%20%7D%0A%0A%20%20let%20modSelectorRadioOptions%20%3D%20''%3B%0A%20%20let%20modDescriptions%20%3D%20''%3B%0A%20%20for(const%20%5Bkey%2C%20value%5D%20of%20Object.entries(modsConfig))%20%7B%0A%20%20%20%20let%20optionalHiddenClass%20%3D%20value.startHidden%20%3F%20'class%3D%22start-hidden%22'%20%3A%20''%3B%0A%20%20%20%20modSelectorRadioOptions%20%2B%3D%20%60%3Clabel%20%24%7BoptionalHiddenClass%7D%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22mod-selector%22%20value%3D%22%24%7Bkey%7D%22%3E%24%7Bvalue.displayName%7D%3Cbr%3E%3C%2Flabel%3E%60%3B%0A%0A%20%20%20%20%2F%2FSet%20up%20the%20description%20section%20for%20the%20mod%0A%20%20%20%20if(value.modDescription)%20%7B%0A%20%20%20%20%20%20%2F%2FGenerate%20the%20html%20for%20the%20author(s)%20field%0A%20%20%20%20%20%20let%20authorString%3B%0A%20%20%20%20%20%20if(value.modDescription.authors%20%26%26%20value.modDescription.authors.length%20!%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20authorString%20%3D%20value.modDescription.authors.length%20%3D%3D%3D%201%20%3F%20'Author%3A%20'%20%3A%20'Authors%3A%20'%3B%0A%0A%20%20%20%20%20%20%20%20let%20needsComma%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20for(let%20author%20of%20value.modDescription.authors)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if(needsComma)%20%7BauthorString%20%2B%3D%20'%2C%20'%3B%7D%0A%20%20%20%20%20%20%20%20%20%20authorString%20%2B%3D%20author.url%20%3F%20%60%3Ca%20href%3D%22%24%7Bauthor.url%7D%22%20target%3D%22_blank%22%20style%3D%22color%3A%20var(--mod-loader-link-font-col)%3B%22%3E%24%7Bauthor.name%7D%3C%2Fa%3E%60%20%3A%20author.name%3B%0A%20%20%20%20%20%20%20%20%20%20needsComma%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20authorString%20%3D%20'Author%3A%20N%2FA'%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2FCreate%20html%20for%20description%20section%0A%20%20%20%20%20%20modDescriptions%20%2B%3D%20%60%0A%20%20%20%20%20%20%20%20%3Cdiv%20data-linked-option%3D%22%24%7Bkey%7D%22%20class%3D%22mod-description%22%20style%3D%22display%3Anone%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22font-weight%3A%20bold%3Bcolor%3Avar(--mod-loader-font-col)%20!important%22%3E%24%7Bvalue.modDescription.descriptionName%7D%3C%2Fspan%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22font-weight%3A%20bold%3Bcolor%3Avar(--mod-loader-font-col)%20!important%22%3E%24%7BauthorString%7D%3C%2Fspan%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%24%7Bvalue.modDescription.description%7D%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%60%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20modSelectorRadioOptions%20%2B%3D%20%60%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22mod-selector%22%20value%3D%22none%22%3ENone%3C%2Flabel%3E%60%3B%0A%0A%20%20let%20customUrlOptions%20%3D%20''%3B%0A%20%20if(IS_DEVELOPER_MODE)%20%7B%0A%20%20%20%20customUrlOptions%20%3D%20%60%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-mod-name%22%20type%3D%22text%22%3E%20Custom%20Mod%20Name%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-url%22%20type%3D%22text%22%3E%20Custom%20Mod%20Url%3C%2Flabel%3E%3Cbr%3E%60%3B%0A%20%20%7D%0A%0A%20%20const%20modSelectorModal%20%3D%20%60%0A%20%20%3Cdiv%20id%3D%22mod-selector-dialogue%22%20style%3D%22display%3A%20block%3Bmargin%3A40px%20auto%3Bpadding%3A10px%3Bborder%3A%201px%20solid%20var(--mod-loader-thin-border)%3Bwidth%3A550px%3Bbackground-color%3A%20var(--mod-loader-main-bg)%20!important%3Bborder-radius%3A5px%3B-webkit-box-shadow%3A%200px%200px%2010px%201px%20rgba(0%2C0%2C0%2C0.24)%3Bbox-shadow%3A%200px%200px%2010px%201px%20rgb(0%200%200%20%2F%2020%25)%3Bfont-family%3A%20helvetica%2C%20sans-serif%3B%22%3E%0A%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3Bjustify-content%3A%20space-between%3Balign-items%3A%20center%3Bmargin%3A%200px%200px%2015px%200px%3Bborder%3A%202px%20solid%20var(--mod-loader-title-border)%3Bbackground-color%3A%20var(--mod-loader-title-bg)%3Bborder-radius%3A%202px%3B%22%3E%0A%20%20%20%20%20%20%3Cspan%3E%3Ca%20target%3D%22_blank%22%20href%3D%22https%3A%2F%2Fgithub.com%2FDarkSnakeGang%22%3E%3Cimg%20title%3D%22DarkSnakeGang%20github%22%20style%3D%22margin-left%3A3px%3B%20margin-top%3A2px%22%20src%3D%22%2Flogos%2Ffnbx%2Fsnake_arcade%2Fv3%2Fspeed_00.png%22%20alt%3D%22%22%20height%3D%2234%22%3E%3C%2Fa%3E%3C%2Fspan%3E%0A%20%20%20%20%20%20%3Ch1%20style%3D%22font-size%3A%202em%3Bfont-weight%3A%20bold%3Bfont-family%3A%20%26quot%3BCentury%20Gothic%26quot%3B%2C%20sans-serif%3Btext-align%3A%20center%3Bcolor%3A%20%234674e9%3Bmargin-top%3A%200%3Bmargin-bottom%3A%200%3B%22%3ESnake%20Mod%20Loader%3C%2Fh1%3E%0A%20%20%20%20%20%20%3Cspan%3E%3Ca%20target%3D%22_blank%22%20href%3D%22https%3A%2F%2Fdiscord.gg%2FNA6vHg62An%22%3E%3Cimg%20title%3D%22Discord%20server%22%20src%3D%22https%3A%2F%2Fgithub.com%2FDarkSnakeGang%2FGoogleSnakeIcons%2Fblob%2Fmain%2FExtras%2FDiscord.png%3Fraw%3Dtrue%22%20width%3D%2235px%22%20style%3D%22margin-left%3A%203px%3B%20margin-right%3A%205px%3B%20position%3A%20relative%3B%20top%3A%202px%3B%22%3E%3C%2Fa%3E%3C%2Fspan%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cdiv%20id%3D%22main-panel%22%20style%3D%22display%3A%20flex%3Bjustify-content%3A%20start%3B%22%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22mod-options%22%20style%3D%22flex%3A%2045%25%3Bmin-height%3A%20115px%3B%22%3E%0A%20%20%20%20%20%20%20%20%24%7BmodSelectorRadioOptions%7D%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22mod-descriptions%22%20style%3D%22flex%3A%2055%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%24%7BmodDescriptions%7D%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22advanced-options%22%20style%3D%22display%3Anone%22%3E%0A%20%20%20%20%20%20%3Chr%20style%3D%22margin-block-start%3A%200.5em%3B%20margin-block-end%3A%200.5em%3B%22%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22advanced-settings%22%20style%3D%22display%3A%20flex%3Bjustify-content%3A%20space-between%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22settings-wrapper-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22fullscreen-at-start%22%20type%3D%22checkbox%22%3EFullscreen%20at%20start%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22timer-starts-on%22%20type%3D%22checkbox%22%3ETimer%20starts%20on%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22muted-starts-on%22%20type%3D%22checkbox%22%3EMute%20at%20start%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22hide-indicator%22%20type%3D%22checkbox%22%3EAuto-hide%20mod%20indicator%20(h%20to%20toggle)%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3C!--%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22hidden-mod-toggle%22%20type%3D%22checkbox%22%3EShow%20early%20access%20mods%3C%2Flabel%3E%3Cbr%3E--%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22dark-mod-theme%22%20type%3D%22checkbox%22%3EDark%20mod%20loader%20theme%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%3Cimg%20src%3D%22https%3A%2F%2Fgithub.com%2FDarkSnakeGang%2FGoogleSnakeIcons%2Fblob%2Fmain%2FExtras%2FDiscord.png%3Fraw%3Dtrue%22%20width%3D%2216px%22%20style%3D%22margin-left%3A%203px%3B%20margin-right%3A%205px%3B%20position%3A%20relative%3B%20top%3A%202px%3B%22%3E%3Ca%20target%3D%22_blank%22%20href%3D%22https%3A%2F%2Fdiscord.gg%2FNA6vHg62An%22%20style%3D%22color%3Avar(--mod-loader-link-font-col)%22%3EDiscord%3C%2Fa%3E%3C%2Fspan%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%24%7BcustomUrlOptions%7D%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22settings-wrapper-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22background-color-picker%22%20type%3D%22color%22%20value%3D%22%23FFFFFF%22%3E%20Background%20color%20on%20fbx%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22use-custom-theme%22%20type%3D%22checkbox%22%3EUse%20custom%20game%20theme%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22custom-theme-pickers%22%20style%3D%22display%3A%20none%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-theme-col1%22%20type%3D%22color%22%20value%3D%22%231D1D1D%22%3E%20Light%20Tiles%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-theme-col2%22%20type%3D%22color%22%20value%3D%22%23161616%22%3E%20Dark%20Tiles%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-theme-col3%22%20type%3D%22color%22%20value%3D%22%23111111%22%3E%20Shadow%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-theme-col4%22%20type%3D%22color%22%20value%3D%22%23000000%22%3E%20Border%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-theme-col5%22%20type%3D%22color%22%20value%3D%22%231D1D1D%22%3E%20Lock%20Sign%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-theme-col6%22%20type%3D%22color%22%20value%3D%22%23111111%22%3E%20Top%20Bar%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%22%3E%3Cinput%20id%3D%22custom-theme-col7%22%20type%3D%22color%22%20value%3D%22%23000000%22%3E%20Endscreen%20background%3C%2Flabel%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22bottom-buttons-wrapper%22%20style%3D%22display%3A%20flex%3Bjustify-content%3A%20space-between%3B%22%3E%0A%20%20%20%20%20%20%3C!--%3Cdiv%20style%3D%22display%3Ainline-block%3Bpadding-top%3A%2015px%3Bmargin-bottom%3A%204px%3Btext-align%3A%20center%3Bfont-family%3A%20arial%2C%20sans-serif%3Bcolor%3A%20var(--mod-loader-link-font-col)%3Btext-decoration%3A%20underline%3Bcursor%3A%20pointer%3Buser-select%3Anone%22%20id%3D%22advanced-options-toggle%22%3E%0A%20%20%20%20%20%20%20%20Advanced%20options%0A%20%20%20%20%20%20%3C%2Fdiv%3E--%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22advanced-options-toggle%22%20class%3D%22mod-sel-btn%22%20style%3D%22display%3Ainline-block%3Bbackground-color%3A%20var(--mod-loader-button-bg)%3Bpadding%3A%204px%3Bmargin-top%3A%207px%3Bborder-radius%3A%203px%3Bborder%3A%202px%20solid%20var(--mod-loader-button-settings-col)%3Bcolor%3A%20var(--mod-loader-button-settings-col)%3Bfont-weight%3A%20bold%3Buser-select%3A%20none%3Bcursor%3A%20pointer%3B%22%3E%0A%20%20%20%20%20%20%20%20Show%20settings%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22version-info%22%20style%3D%22color%3Avar(--mod-loader-font-col)%20!important%3Bpadding-top%3A%2015px%3B%22%3E%0A%20%20%20%20%20%20%20%20Version%20%24%7BVERSION%7D%20%0A%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22update-link%22%20style%3D%22display%3Anone%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Ca%20id%3D%22update-link-text%22%20href%3D%22%24%7BUPDATE_URL%7D%22%20style%3D%22color%3A%20var(--mod-loader-link-font-col)%3B%22%3E(update%20to%20vNext)%3C%2Fa%3E%0A%20%20%20%20%20%20%20%20%3C%2Fspan%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22right-buttons%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22close-mod-selector%22%20class%3D%22mod-sel-btn%22%20style%3D%22display%3Ainline-block%3Bbackground-color%3A%20var(--mod-loader-button-bg)%3Bpadding%3A%204px%3Bmargin-top%3A%207px%3Bmargin-right%3A10px%3Bborder-radius%3A%203px%3Bborder%3A%202px%20solid%20var(--mod-loader-button-close-col)%3Bcolor%3A%20var(--mod-loader-button-close-col)%3Bfont-weight%3A%20bold%3Buser-select%3A%20none%3Bcursor%3A%20pointer%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20Close%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22apply-mod%22%20class%3D%22mod-sel-btn%22%20style%3D%22display%3Ainline-block%3Bbackground-color%3A%20var(--mod-loader-button-bg)%3Bpadding%3A%204px%3Bmargin-top%3A%207px%3Bborder-radius%3A%203px%3Bborder%3A%202px%20solid%20var(--mod-loader-button-apply-col)%3Bcolor%3A%20var(--mod-loader-button-apply-col)%3Bfont-weight%3A%20bold%3Buser-select%3A%20none%3Bcursor%3A%20pointer%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20Apply%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%3C%2Fdiv%3E%0A%20%20%60%3B%0A%0A%20%20%2F%2FInsert%20html%20for%20custom%20preset%20export%20dialogue%20box.%0A%20%20let%20modSelectorModalContainer%20%3D%20document.createElement('div')%3B%0A%20%20modSelectorModalContainer.innerHTML%20%3D%20modSelectorModal%3B%0A%20%20modSelectorModalContainer.id%20%3D%20'mod-selector-dialogue-container'%3B%0A%20%20modSelectorModalContainer.style%20%3D%20'display%3Anone%3B%20position%3Afixed%3B%20width%3A100%25%3B%20height%3A100%25%3B%20z-index%3A%20999999%3B%20left%3A0%3B%20top%3A0'%3B%0A%20%20document.body.appendChild(modSelectorModalContainer)%3B%0A%0A%20%20showUpdateLinkIfNeeded()%3B%0A%0A%20%20let%20hideEndScreenImg%20%3D%20document.createElement('img')%3B%0A%20%20hideEndScreenImg.style%20%3D%20%22position%3A%20absolute%3Bleft%3A%2010px%3Btop%3A%2010px%3Bcursor%3A%20pointer%3B%20height%3A20px%3B%20width%3Aauto%3B%22%3B%0A%20%20hideEndScreenImg.src%20%3D%20%22https%3A%2F%2Fgithub.com%2FDarkSnakeGang%2FGoogleSnakeIcons%2Fblob%2Fmain%2FToggleDeathscreen%2FEyeIcon.png%3Fraw%3Dtrue%22%3B%0A%20%20hideEndScreenImg.title%20%3D%20%22Click%20to%20hide.%20Click%20anywhere%20to%20bring%20back%22%3B%0A%20%20hideEndScreenImg.id%20%3D%20%22death-screen-toggle%22%3B%0A%20%20let%20firstMenuScreen%20%3D%20document.getElementsByClassName('T7SB3d')%5B0%5D%3B%0A%20%20if(firstMenuScreen)%20%7B%0A%20%20%20%20firstMenuScreen.appendChild(hideEndScreenImg)%3B%0A%20%20%7D%0A%0A%20%20let%20showEndScreenCover%20%3D%20document.createElement('div')%3B%0A%20%20showEndScreenCover.style%20%3D%20%22display%3Anone%3B%20background-color%3Atransparent%3B%20position%3A%20fixed%3B%20top%3A0%3Bleft%3A0%3B%20width%3A100vw%3B%20height%3A100vh%3Bbox-shadow%3A%20cyan%200px%200px%2010px%20inset%3B%20box-sizing%3A%20border-box%3Bz-index%3A%201000000%3B%22%0A%20%20document.body.appendChild(showEndScreenCover)%3B%0A%0A%20%20hideEndScreenImg.addEventListener('click'%2C%20function()%20%7B%0A%20%20%20%20let%20endScreenContainer%20%3D%20document.getElementsByClassName('wjOYOd')%5B0%5D%3B%0A%20%20%20%20if(endScreenContainer)%20%7B%0A%20%20%20%20%20%20endScreenContainer.style.visibility%20%3D%20'hidden'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showEndScreenCover.style.display%20%3D%20'block'%3B%0A%20%20%7D)%3B%0A%0A%20%20showEndScreenCover.addEventListener('click'%2C%20function()%20%7B%0A%20%20%20%20let%20endScreenContainer%20%3D%20document.getElementsByClassName('wjOYOd')%5B0%5D%3B%0A%20%20%20%20if(endScreenContainer)%20%7B%0A%20%20%20%20%20%20endScreenContainer.style.visibility%20%3D%20'visible'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showEndScreenCover.style.display%20%3D%20'none'%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F%2FTick%20the%20currently%20selected%20mod%20choice%20according%20to%20localStorage.%20Also%2C%20set%20the%20mod%20name%20in%20the%20indicator%0A%20%20const%20currentlySelectedMod%20%3D%20localStorage.getItem('snakeChosenMod')%3B%0A%20%20let%20newlySelectedMod%20%3D%20currentlySelectedMod%3B%0A%0A%20%20if(modsConfig.hasOwnProperty(currentlySelectedMod)%20%26%26%20currentlySelectedMod%20!%3D%3D%20null%20%26%26%20currentlySelectedMod%20!%3D%3D%20'none')%20%7B%0A%20%20%20%20document.querySelector(%60input%5Bname%3D%22mod-selector%22%5D%5Bvalue%3D%22%24%7BcurrentlySelectedMod%7D%22%5D%60).checked%20%3D%20true%3B%0A%20%20%20%20document.getElementById('mod-name-span').textContent%20%3D%20modsConfig%5BcurrentlySelectedMod%5D.displayName%3B%0A%20%20%20%20let%20descriptionEl%20%3D%20document.querySelector(%60div.mod-description%5Bdata-linked-option%3D%22%24%7BcurrentlySelectedMod%7D%22%5D%60)%3B%0A%20%20%20%20if(descriptionEl)%20%7BdescriptionEl.style.display%20%3D%20'block'%3B%7D%0A%20%20%7D%20else%20%7B%0A%20%20%20%20document.querySelector('input%5Bname%3D%22mod-selector%22%5D%5Bvalue%3D%22none%22%5D').checked%20%3D%20true%3B%0A%20%20%20%20document.getElementById('mod-name-span').textContent%20%3D%20'None'%3B%0A%20%20%7D%0A%0A%20%20%2F%2FUpdate%20the%20checked%2Fticked%20mod%20when%20clicking%20on%20any%20of%20the%20radio%20buttons.%20Also%20show%20the%20description%20for%20it.%0A%20%20%5B...document.querySelectorAll('input%5Btype%3D%22radio%22%5D%5Bname%3D%22mod-selector%22%5D')%5D.forEach(radioEl%3D%3E%7B%0A%20%20%20%20radioEl.addEventListener('click'%2C%20function()%7B%0A%20%20%20%20%20%20%2F%2FMark%20mod%20as%20selected%20for%20when%20we%20hit%20apply%0A%20%20%20%20%20%20newlySelectedMod%20%3D%20this.value%3B%0A%20%20%20%20%20%20showSettingChanged()%3B%0A%20%20%20%20%20%20%5B...document.getElementsByClassName('mod-description')%5D.forEach(el%3D%3E%7B%0A%20%20%20%20%20%20%20%20el.style.display%20%3D%20'none'%3B%0A%20%20%20%20%20%20%20%20let%20descriptionEl%20%3D%20document.querySelector(%60div.mod-description%5Bdata-linked-option%3D%22%24%7Bthis.value%7D%22%5D%60)%3B%0A%20%20%20%20%20%20%20%20if(descriptionEl)%20%7BdescriptionEl.style.display%20%3D%20'block'%3B%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F%2FLoad%20advanced%20settings%0A%20%20let%20advancedSettings%20%3D%20JSON.parse(localStorage.getItem('snakeAdvancedSettings'))%20%3F%3F%20%7B%7D%3B%0A%20%20delete%20advancedSettings.fbxCentered%3B%20%2F%2FRemove%20the%20fbx%20centered%20property%20as%20it's%20no%20longer%20needed%0A%20%20let%20advancedSettingsOriginal%20%3D%20%7B...advancedSettings%7D%3B%20%2F%2FShallow%20copy%2C%20but%20it's%20ok%20as%20nothing%20is%20nested.%0A%0A%20%20%2F%2FMake%20sure%20the%20inputs%20are%20set%20the%20right%20values%20when%20starting%20up%20the%20mod%0A%20%20updateAdvancedSettingInputs()%3B%0A%0A%20%20%2F%2FEvent%20listeners%20for%20advanced%20settings%0A%20%20document.getElementById('advanced-options-toggle').addEventListener('click'%2C%20(event)%3D%3E%7B%0A%20%20%20%20let%20shouldShow%20%3D%20document.getElementById('advanced-options').style.display%20%3D%3D%3D%20'none'%3B%0A%20%20%20%20document.getElementById('advanced-options').style.display%20%3D%20shouldShow%20%3F%20'block'%3A'none'%3B%0A%20%20%20%20document.getElementById('advanced-options-toggle').textContent%20%3D%20shouldShow%20%3F%20'Hide%20settings'%20%3A%20'Show%20settings'%3B%0A%20%20%20%20event.preventDefault()%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('use-custom-theme').addEventListener('change'%2C%20function()%20%7B%0A%20%20%20%20document.getElementById('custom-theme-pickers').style.display%20%3D%20(this.checked%20%3F%20'block'%20%3A%20'none')%3B%0A%20%20%20%20updateAdvancedSetting('useCustomTheme'%2C%20this.checked)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('fullscreen-at-start').addEventListener('change'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('fullscreenStartsOn'%2C%20this.checked)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('timer-starts-on').addEventListener('change'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('timerStartsOn'%2C%20this.checked)%3B%0A%20%20%7D)%3B%0A%20%20%2F*document.getElementById('hidden-mod-toggle').addEventListener('change'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('showHiddenMods'%2C%20this.checked)%3B%0A%20%20%7D)%3B*%2F%0A%20%20document.getElementById('muted-starts-on').addEventListener('change'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('mutedStartsOn'%2C%20this.checked)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('background-color-picker').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('backgroundColor'%2C%20this.value)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('custom-theme-col1').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('themeCol1'%2C%20this.value)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('custom-theme-col2').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('themeCol2'%2C%20this.value)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('custom-theme-col3').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('themeCol3'%2C%20this.value)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('custom-theme-col4').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('themeCol4'%2C%20this.value)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('custom-theme-col5').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('themeCol5'%2C%20this.value)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('custom-theme-col6').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('themeCol6'%2C%20this.value)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('custom-theme-col7').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('themeCol7'%2C%20this.value)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('hide-indicator').addEventListener('change'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('hideIndicator'%2C%20this.checked)%3B%0A%20%20%7D)%3B%0A%20%20document.getElementById('dark-mod-theme').addEventListener('change'%2C%20function()%20%7B%0A%20%20%20%20updateAdvancedSetting('darkModTheme'%2C%20this.checked)%3B%0A%20%20%7D)%3B%0A%0A%20%20if(IS_DEVELOPER_MODE)%20%7B%0A%20%20%20%20document.getElementById('custom-mod-name').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20%20%20updateAdvancedSetting('customModName'%2C%20this.value)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20document.getElementById('custom-url').addEventListener('input'%2C%20function()%20%7B%0A%20%20%20%20%20%20updateAdvancedSetting('customUrl'%2C%20this.value)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2FEvent%20listener%20for%20toggling%20the%20early%20access%2Fhidden%20mods%0A%20%20%2F*document.getElementById('hidden-mod-toggle').addEventListener('change'%2C%20function()%20%7B%0A%20%20%20%20if(this.checked)%20%7B%0A%20%20%20%20%20%20%5B...document.getElementsByClassName('start-hidden')%5D.forEach(el%3D%3Eel.classList.add('show-hidden'))%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%5B...document.getElementsByClassName('start-hidden')%5D.forEach(el%3D%3Eel.classList.remove('show-hidden'))%3B%0A%20%20%20%20%7D%0A%20%20%7D)%3B*%2F%0A%0A%20%20%2F%2FHide%20mod%20selector%20dialogue%20when%20clicking%20close%20button%0A%20%20document.getElementById('close-mod-selector').addEventListener('click'%2C%20function()%20%7B%0A%20%20%20%20document.getElementById('mod-selector-dialogue-container').style.display%20%3D%20'none'%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F%2FAlso%20hide%20when%20clicking%20backdrop%0A%20%20document.getElementById('mod-selector-dialogue-container').addEventListener('click'%2Cfunction(event)%7B%0A%20%20%20%20if(this%20%3D%3D%3D%20event.target)%20%7B%0A%20%20%20%20%20%20this.style.display%3D'none'%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20%2F%2FApply%20button%20should%20save%20settings%20and%20refresh%20page%0A%20%20document.getElementById('apply-mod').addEventListener('click'%2C%20function(event)%20%7B%0A%20%20%20%20%2F%2FFigure%20out%20if%20advanced%20settings%20have%20been%20changed.%0A%20%20%20%20let%20shallowEquality%20%3D%20true%3B%0A%20%20%20%20for(let%20setting%20in%20advancedSettings)%20%7B%0A%20%20%20%20%20%20if(advancedSettings%5Bsetting%5D%20!%3D%3D%20advancedSettingsOriginal%5Bsetting%5D)%20%7B%0A%20%20%20%20%20%20%20%20shallowEquality%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FSkip%20if%20settings%2Fmod%20chosen%20are%20the%20same%20as%20before.%0A%20%20%20%20if(shallowEquality%20%26%26%20newlySelectedMod%20%3D%3D%3D%20currentlySelectedMod)%20%7B%0A%20%20%20%20%20%20alert('Settings%20are%20the%20same%20as%20before!')%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FSave%20new%20settings%0A%20%20%20%20localStorage.setItem('snakeChosenMod'%2C%20newlySelectedMod)%3B%0A%20%20%20%20localStorage.setItem('snakeAdvancedSettings'%2CJSON.stringify(advancedSettings))%3B%0A%0A%20%20%20%20%2F%2FRefresh%20if%20the%20mod%20has%20changed%20or%20the%20developer%20settings%20(custom%20mod%20name%2Furl)%20have%20been%20changed%0A%20%20%20%20%2F%2Fotherwise%20apply%20the%20settings%20to%20the%20%22live%22%20game%0A%20%20%20%20if(%0A%20%20%20%20%20%20%20%20newlySelectedMod%20!%3D%3D%20currentlySelectedMod%20%7C%7C%20%0A%20%20%20%20%20%20%20%20(advancedSettings.hasOwnProperty('customModName')%20%26%26%20advancedSettings.customModName%20!%3D%3D%20advancedSettingsOriginal.customModName)%20%7C%7C%0A%20%20%20%20%20%20%20%20(advancedSettings.hasOwnProperty('customUrl')%20%26%26%20advancedSettings.customUrl%20!%3D%3D%20advancedSettingsOriginal.customUrl)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20location.reload()%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2FApply%20dark%20mod%20theme%20setting%20if%20toggled.%0A%20%20%20%20%20%20if(advancedSettings.darkModTheme)%20%7B%0A%20%20%20%20%20%20%20%20document.getElementById('mod-indicator').classList.add('dark-mod-theme')%3B%0A%20%20%20%20%20%20%20%20document.getElementById('mod-selector-dialogue-container').classList.add('dark-mod-theme')%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20document.getElementById('mod-indicator').classList.remove('dark-mod-theme')%3B%0A%20%20%20%20%20%20%20%20document.getElementById('mod-selector-dialogue-container').classList.remove('dark-mod-theme')%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2FApply%20background%20colour%20on%20fbx%0A%20%20%20%20%20%20if(window.location.href.includes('fbx%3Ffbx%3Dsnake_arcade')%20%26%26%20typeof%20advancedSettings.backgroundColor%20%3D%3D%3D%20'string')%20%7B%0A%20%20%20%20%20%20%20%20document.body.style.backgroundColor%20%3D%20advancedSettings.backgroundColor%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2FApply%20custom%20theme%20setting%0A%20%20%20%20%20%20if(advancedSettings.useCustomTheme)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2FOnly%20update%20this%20if%20the%20colours%20have%20been%20changed%20or%20the%20theme%20was%20turned%20off.%0A%20%20%20%20%20%20%20%20let%20hasThemeChanged%20%3D%20advancedSettings.themeCol1%20!%3D%3D%20advancedSettingsOriginal.themeCol1%20%7C%7C%0A%20%20%20%20%20%20%20%20advancedSettings.themeCol2%20!%3D%3D%20advancedSettingsOriginal.themeCol2%20%7C%7C%0A%20%20%20%20%20%20%20%20advancedSettings.themeCol3%20!%3D%3D%20advancedSettingsOriginal.themeCol3%20%7C%7C%0A%20%20%20%20%20%20%20%20advancedSettings.themeCol4%20!%3D%3D%20advancedSettingsOriginal.themeCol4%20%7C%7C%0A%20%20%20%20%20%20%20%20advancedSettings.themeCol5%20!%3D%3D%20advancedSettingsOriginal.themeCol5%20%7C%7C%0A%20%20%20%20%20%20%20%20advancedSettings.themeCol6%20!%3D%3D%20advancedSettingsOriginal.themeCol6%20%7C%7C%0A%20%20%20%20%20%20%20%20advancedSettings.themeCol7%20!%3D%3D%20advancedSettingsOriginal.themeCol7%20%7C%7C%0A%20%20%20%20%20%20%20%20(!advancedSettingsOriginal.useCustomTheme%20%26%26%20advancedSettings.useCustomTheme)%3B%0A%0A%20%20%20%20%20%20%20%20if(hasThemeChanged)%20%7B%0A%20%20%20%20%20%20%20%20%20%20window.snake%20%26%26%20window.snake.setCustomTheme(%0A%20%20%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol1%20%3F%3F%20'%231D1D1D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol2%20%3F%3F%20'%23161616'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol3%20%3F%3F%20'%23111111'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol4%20%3F%3F%20'%23000000'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol5%20%3F%3F%20'%231D1D1D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol6%20%3F%3F%20'%23111111'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol7%20%3F%3F%20'%23000000'%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2FClear%20the%20theme%20if%20useCustomTheme%20was%20just%20unchecked%0A%20%20%20%20%20%20if(advancedSettingsOriginal.useCustomTheme%20%26%26%20!advancedSettings.useCustomTheme)%20%7B%0A%20%20%20%20%20%20%20%20window.snake%20%26%26%20window.snake.clearCustomTheme()%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2FMake%20note%20of%20the%20new%20settings%20in-case%20the%20user%20decides%20to%20change%20them%20again.%0A%20%20%20%20%20%20advancedSettingsOriginal%20%3D%20%7B...advancedSettings%7D%3B%2F%2FShallow%20copy%2C%20but%20it's%20ok%20as%20nothing%20is%20nested.%0A%20%20%20%20%20%20document.getElementById('apply-mod').textContent%20%3D%20'Applied!'%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20let%20attemptsApplyingAdvancedSettings%20%3D%200%3B%0A%20%20setTimeout(applyAdvancedSnakeSettingsToGame%2C%20300)%3B%2F%2FSmall%20delay%20to%20give%20the%20game%20more%20time%20to%20load.%0A%20%20setTimeout(applyAdvancedNonSnakeSettingsToGame%2C300)%3B%0A%0A%20%20document.body.addEventListener('keydown'%2Cfunction(event)%20%7B%0A%20%20%20%20if(event.key%20%3D%3D%3D%20'h')%20%7B%0A%20%20%20%20%20%20let%20modIndicatorEl%20%3D%20document.getElementById('mod-indicator')%3B%0A%20%20%20%20%20%20modIndicatorEl.style.display%20%3D%20(modIndicatorEl.style.display%20%3D%3D%3D%20'block'%20%3F%20'none'%20%3A%20'block')%3B%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20function%20updateAdvancedSettingInputs()%20%7B%0A%20%20%20%20if(advancedSettings.hasOwnProperty('fullscreenStartsOn'))%20%7B%0A%20%20%20%20%20%20document.getElementById('fullscreen-at-start').checked%20%3D%20advancedSettings.fullscreenStartsOn%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('timerStartsOn'))%20%7B%0A%20%20%20%20%20%20document.getElementById('timer-starts-on').checked%20%3D%20advancedSettings.timerStartsOn%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F*if(advancedSettings.hasOwnProperty('showHiddenMods'))%20%7B%0A%20%20%20%20%20%20document.getElementById('hidden-mod-toggle').checked%20%3D%20advancedSettings.showHiddenMods%3B%0A%20%20%20%20%7D*%2F%0A%20%20%20%20if(advancedSettings.hasOwnProperty('mutedStartsOn'))%20%7B%0A%20%20%20%20%20%20document.getElementById('muted-starts-on').checked%20%3D%20advancedSettings.mutedStartsOn%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('darkModTheme'))%20%7B%0A%20%20%20%20%20%20document.getElementById('dark-mod-theme').checked%20%3D%20advancedSettings.darkModTheme%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('hideIndicator'))%20%7B%0A%20%20%20%20%20%20document.getElementById('hide-indicator').checked%20%3D%20advancedSettings.hideIndicator%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('useCustomTheme'))%20%7B%0A%20%20%20%20%20%20document.getElementById('use-custom-theme').checked%20%3D%20advancedSettings.useCustomTheme%3B%0A%20%20%20%20%20%20document.getElementById('custom-theme-pickers').style.display%20%3D%20(advancedSettings.useCustomTheme%20%3F%20'block'%20%3A%20'none')%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20document.getElementById('custom-theme-pickers').style.display%20%3D%20'none'%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('backgroundColor'))%20%7B%0A%20%20%20%20%20%20document.getElementById('background-color-picker').value%20%3D%20advancedSettings.backgroundColor%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('themeCol1'))%20%7B%0A%20%20%20%20%20%20document.getElementById('custom-theme-col1').value%20%3D%20advancedSettings.themeCol1%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('themeCol2'))%20%7B%0A%20%20%20%20%20%20document.getElementById('custom-theme-col2').value%20%3D%20advancedSettings.themeCol2%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('themeCol3'))%20%7B%0A%20%20%20%20%20%20document.getElementById('custom-theme-col3').value%20%3D%20advancedSettings.themeCol3%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('themeCol4'))%20%7B%0A%20%20%20%20%20%20document.getElementById('custom-theme-col4').value%20%3D%20advancedSettings.themeCol4%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('themeCol5'))%20%7B%0A%20%20%20%20%20%20document.getElementById('custom-theme-col5').value%20%3D%20advancedSettings.themeCol5%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('themeCol6'))%20%7B%0A%20%20%20%20%20%20document.getElementById('custom-theme-col6').value%20%3D%20advancedSettings.themeCol6%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hasOwnProperty('themeCol7'))%20%7B%0A%20%20%20%20%20%20document.getElementById('custom-theme-col7').value%20%3D%20advancedSettings.themeCol7%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if(IS_DEVELOPER_MODE)%20%7B%0A%20%20%20%20%20%20if(advancedSettings.hasOwnProperty('customModName'))%20%7B%0A%20%20%20%20%20%20%20%20document.getElementById('custom-mod-name').value%20%3D%20advancedSettings.customModName%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if(advancedSettings.hasOwnProperty('customUrl'))%20%7B%0A%20%20%20%20%20%20%20%20document.getElementById('custom-url').value%20%3D%20advancedSettings.customUrl%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20updateAdvancedSetting(settingName%2C%20settingValue)%20%7B%0A%20%20%20%20advancedSettings%5BsettingName%5D%20%3D%20settingValue%3B%0A%20%20%20%20showSettingChanged()%3B%0A%20%20%7D%0A%0A%20%20%2F%2FAdvanced%20settings%20that%20need%20to%20wait%20for%20window.snake%0A%20%20function%20applyAdvancedSnakeSettingsToGame()%20%7B%0A%20%20%20%20if(attemptsApplyingAdvancedSettings%20%3E%2010)%20%7B%0A%20%20%20%20%20%20%2F%2FStop%20trying%20to%20apply%20advanced%20setting%20if%20we've%20tried%20this%20much%20and%20the%20game%20still%20isn't%20ready%0A%20%20%20%20%20%20console.log('window.snake%20is%20still%20not%20available%20after%20retrying%20many%20times.%20Skipping%20applying%20advanced%20snake%20settings')%3B%0A%20%20%20%20%7D%20else%20if(!window.snake)%20%7B%0A%20%20%20%20%20%20%2F%2FGame%20not%20ready.%20Wait%20a%20bit%20and%20then%20try%20again.%0A%20%20%20%20%20%20console.log('window.snake%20not%20ready%20for%20when%20we%20apply%20advanced%20settings.%20Will%20retry%20again%20after%20waiting.')%3B%0A%20%20%20%20%20%20attemptsApplyingAdvancedSettings%2B%2B%3B%0A%20%20%20%20%20%20setTimeout(applyAdvancedSnakeSettingsToGame%2C%20300)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if(advancedSettings.timerStartsOn)%20%7B%0A%20%20%20%20%20%20%20%20window.snake.speedrun()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if(advancedSettings.useCustomTheme)%20%7B%0A%20%20%20%20%20%20%20%20window.snake.setCustomTheme(%0A%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol1%20%3F%3F%20'%231D1D1D'%2C%0A%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol2%20%3F%3F%20'%23161616'%2C%0A%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol3%20%3F%3F%20'%23111111'%2C%0A%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol4%20%3F%3F%20'%23000000'%2C%0A%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol5%20%3F%3F%20'%231D1D1D'%2C%0A%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol6%20%3F%3F%20'%23111111'%2C%0A%20%20%20%20%20%20%20%20%20%20advancedSettings.themeCol7%20%3F%3F%20'%23000000'%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20applyAdvancedNonSnakeSettingsToGame()%20%7B%0A%20%20%20%20if(advancedSettings.fullscreenStartsOn)%20%7B%0A%20%20%20%20%20%20applyFullscreenToGame()%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.mutedStartsOn)%20%7B%0A%20%20%20%20%20%20applyMuteToGame()%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.showHiddenMods)%20%7B%0A%20%20%20%20%20%20%5B...document.getElementsByClassName('start-hidden')%5D.forEach(el%3D%3Eel.classList.add('show-hidden'))%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.darkModTheme)%20%7B%0A%20%20%20%20%20%20document.getElementById('mod-indicator').classList.add('dark-mod-theme')%3B%0A%20%20%20%20%20%20document.getElementById('mod-selector-dialogue-container').classList.add('dark-mod-theme')%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(advancedSettings.hideIndicator)%20%7B%0A%20%20%20%20%20%20setTimeout(function()%20%7B%0A%20%20%20%20%20%20%20%20if(window.showSnakeErrMessage)%20%7Breturn%3B%7D%0A%0A%20%20%20%20%20%20%20%20let%20modIndicatorEl%20%3D%20document.getElementById('mod-indicator')%3B%0A%20%20%20%20%20%20%20%20if(modIndicatorEl.style.display%20%3D%3D%3D%20'block')%20%7B%0A%20%20%20%20%20%20%20%20%20%20modIndicatorEl.style.display%20%3D%20'none'%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%205000)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if(window.location.href.includes('fbx%3Ffbx%3Dsnake_arcade')%20%26%26%20typeof%20advancedSettings.backgroundColor%20%3D%3D%3D%20'string')%20%7B%0A%20%20%20%20%20%20document.body.style.backgroundColor%20%3D%20advancedSettings.backgroundColor%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20applyMuteToGame()%20%7B%0A%20%20%20%20%2F%2FOn%20fbx%20we%20can%20mute%20right%20way.%20On%20search%2C%20we%20need%20to%20wait%20until%20the%20game%20is%20visible.%0A%20%20%20%20if(window.location.href.includes('fbx%3Ffbx%3Dsnake_arcade'))%20%7B%0A%20%20%20%20%20%20%2F%2FMatch%20mute%20button%2C%20but%20only%20if%20it's%20on%20(i.e.%20the%20image%20url%20includes%20the%20word%20up%20instead%20of%20the%20word%20off)%0A%20%20%20%20%20%20let%20muteButton%20%3D%20document.querySelector('img.EFcTud%5Bjsaction%3D%22DGXxE%22%5D%3Anot(%5Bsrc*%3D%22off%22%5D)')%3B%0A%20%20%20%20%20%20if(muteButton)%20%7BmuteButton.click()%3B%7D%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FOnly%20true%20if%20we%20can%20find%20the%20invis%20el%20and%20it%20has%20style%20%22None%22%0A%20%20%20%20let%20someRandomGameContainer%20%3D%20document.getElementsByClassName('ynlwjd')%5B0%5D%3B%0A%20%20%20%20let%20isGameInvis%20%3D%20someRandomGameContainer%20%26%26%20someRandomGameContainer.style.display%20%3D%3D%3D%20'none'%3B%0A%0A%20%20%20%20%2F%2FHandle%20search%20snake%20here.%0A%20%20%20%20if(isGameInvis)%20%7B%0A%20%20%20%20%20%20console.log('Game%20not%20visible%20yet.%20Waiting%20to%20apply%20mute.')%3B%0A%20%20%20%20%20%20setTimeout(applyMuteToGame%2C%20400)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2FGame%20is%20visible%20so%20safe%20to%20mute.%0A%20%20%20%20%20%20let%20muteButton%20%3D%20document.querySelector('img.EFcTud%5Bjsaction%3D%22DGXxE%22%5D%3Anot(%5Bsrc*%3D%22off%22%5D)')%3B%0A%20%20%20%20%20%20if(muteButton)%20%7BmuteButton.click()%3B%7D%0A%20%20%20%20%7D%20%20%20%20%0A%20%20%7D%0A%0A%20%20function%20applyFullscreenToGame()%20%7B%0A%20%20%20%20%2F%2FOn%20fbx%20we%20can%20fullscreen%20right%20way.%20On%20search%2C%20we%20need%20to%20wait%20until%20the%20game%20is%20visible.%0A%20%20%20%20if(window.location.href.includes('fbx%3Ffbx%3Dsnake_arcade'))%20%7B%0A%20%20%20%20%20%20%2F%2FMatch%20fullscreen%20button%2C%20but%20only%20if%20it's%20on%20(i.e.%20the%20image%20url%20includes%20the%20word%20up%20instead%20of%20the%20word%20off)%0A%20%20%20%20%20%20let%20fullscreenButton%20%3D%20document.querySelector('img.EFcTud%5Bjsaction%3D%22zeJAAd%22%5D%3Anot(%5Bsrc*%3D%22exit%22%5D)')%3B%0A%20%20%20%20%20%20if(fullscreenButton)%20%7BfullscreenButton.click()%3B%7D%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FOnly%20true%20if%20we%20can%20find%20the%20invis%20el%20and%20it%20has%20style%20%22None%22%0A%20%20%20%20let%20someRandomGameContainer%20%3D%20document.getElementsByClassName('ynlwjd')%5B0%5D%3B%0A%20%20%20%20let%20isGameInvis%20%3D%20someRandomGameContainer%20%26%26%20someRandomGameContainer.style.display%20%3D%3D%3D%20'none'%3B%0A%0A%20%20%20%20%2F%2FHandle%20search%20snake%20here.%0A%20%20%20%20if(isGameInvis)%20%7B%0A%20%20%20%20%20%20console.log('Game%20not%20visible%20yet.%20Waiting%20to%20apply%20fullscreen.')%3B%0A%20%20%20%20%20%20setTimeout(applyFullscreenToGame%2C%20400)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2FGame%20is%20visible%20so%20safe%20to%20fullscreen.%0A%20%20%20%20%20%20let%20fullscreenButton%20%3D%20document.querySelector('img.EFcTud%5Bjsaction%3D%22zeJAAd%22%5D%3Anot(%5Bsrc*%3D%22exit%22%5D)')%3B%0A%20%20%20%20%20%20if(fullscreenButton)%20%7BfullscreenButton.click()%3B%7D%0A%20%20%20%20%7D%20%20%20%20%0A%20%20%7D%0A%0A%20%20%2F%2FFetches%20json%20file%20with%20latest%20version%20and%20shows%20the%20update%20link%20if%20it%20is%20different%20to%20our%20version%0A%20%20function%20showUpdateLinkIfNeeded()%20%7B%0A%20%20%20%20if(externalConfig.hasError)%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20let%20modInfo%20%3D%20externalConfig.modInfo%3B%0A%20%20%20%20%20%20let%20latestVersion%20%3D%20modInfo.version%3B%0A%20%20%20%20%20%20let%20updateNeeded%20%3D%20latestVersion%20!%3D%3D%20VERSION%3B%0A%20%20%20%20%20%20if(updateNeeded%20%26%26%20!IS_DEVELOPER_MODE)%20%7B%0A%20%20%20%20%20%20%20%20document.getElementById('update-link').style.display%20%3D%20'inline'%3B%0A%20%20%20%20%20%20%20%20document.getElementById('update-link-text').textContent%20%3D%20%60(update%20to%20%24%7BlatestVersion%7D)%60%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2FHave%20an%20option%20to%20not%20show%20the%20popup%20on%20either%20fbx%20or%20search%20snake%20(e.g.%20if%20only%20one%20of%20them%20is%20broken)%0A%20%20%20%20%20%20if(window.location.href.includes('fbx%3Ffbx%3Dsnake_arcade')%20%3F%20modInfo.startMessage.excludeFbx%20%3A%20modInfo.startMessage.excludeSearch)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if(modInfo.startMessage.showToEveryone%20%7C%7C%20(modInfo.startMessage.showIfUpdateNeeded%20%26%26%20updateNeeded))%20%7B%0A%20%20%20%20%20%20%20%20showStartMessagePopup(modInfo)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20catch(err)%20%7B%0A%20%20%20%20%20%20console.error(err)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20showStartMessagePopup(modInfo)%20%7B%0A%0A%20%20%20%20const%20messageHeading%20%3D%20%60%3Ch1%20style%3D%22font-size%3A%203em%3Bfont-weight%3A%20bold%3Bmargin%3A%207px%200px%2015px%200px%3Btext-align%3A%20center%3Bcolor%3A%20var(--mod-loader-font-col)%3B%22%3EMessage%3C%2Fh1%3E%60%3B%0A%20%20%20%20const%20updateAvailableHeading%20%3D%20%60%3Ch1%20style%3D%22font-size%3A%203em%3Bfont-weight%3A%20bold%3Bmargin%3A%207px%200px%2015px%200px%3Btext-align%3A%20center%3Bcolor%3A%20var(--mod-loader-font-col)%3B%22%3EUpdate%20Available%3C%2Fh1%3E%0A%20%20%20%20%3Ca%20href%3D%22%24%7BUPDATE_URL%7D%22%20class%3D%22mod-sel-btn%22%20style%3D%22display%3Ainline-block%3Bbackground-color%3A%20var(--mod-loader-button-bg)%3Bpadding%3A%204px%3Bmargin-top%3A%207px%3Bborder-radius%3A%203px%3Bborder%3A%202px%20solid%20var(--mod-loader-button-apply-col)%3Bcolor%3A%20var(--mod-loader-button-apply-col)%3Bfont-weight%3A%20bold%3Buser-select%3A%20none%3Bcursor%3A%20pointer%3Bfont-size%3A%201.5em%3Btext-decoration%3A%20none%3B%22%3EUpdate%20to%20%24%7BmodInfo.version%7D%3C%2Fa%3E%0A%20%20%20%20%60%3B%0A%0A%20%20%20%20const%20moreInfo%20%3D%20%60%3Cp%3E%3Ca%20href%3D%22https%3A%2F%2Fgithub.com%2FDarkSnakeGang%2FGoogleSnakeModLoader%2Fblob%2Fmain%2Fdocs%2F%24%7BmodInfo.startMessage.moreInfoLink%7D%22%20target%3D%22_blank%22%20style%3D%22color%3A%20var(--mod-loader-link-font-col)%3Bfont-size%3A1.5em%22%3EMore%20info%20here%3C%2Fa%3E%3C%2Fp%3E%60%0A%0A%20%20%20%20const%20startMessagePopup%20%3D%20%60%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22start-message-dialogue%22%20style%3D%22display%3A%20block%3Bmargin%3A40px%20auto%3Bpadding%3A10px%3Bborder%3A%201px%20solid%20var(--mod-loader-thin-border)%3Bwidth%3A550px%3Bbackground-color%3A%20var(--mod-loader-main-bg)%20!important%3Bborder-radius%3A5px%3B-webkit-box-shadow%3A%200px%200px%2010px%201px%20rgba(0%2C0%2C0%2C0.24)%3Bbox-shadow%3A%200px%200px%2010px%201px%20rgb(0%200%200%20%2F%2020%25)%3Bfont-family%3A%20helvetica%2C%20sans-serif%3Btext-align%3Acenter%22%3E%0A%20%20%20%20%20%20%20%20%24%7BmodInfo.startMessage.showUpdatePrompt%20%3F%20updateAvailableHeading%20%3A%20messageHeading%7D%0A%0A%20%20%20%20%20%20%20%20%3Cp%20id%3D%22start-message-explanatory-text%22%20style%3D%22font-size%3A1.5em%3Bcolor%3A%20var(--mod-loader-font-col)%3B%22%3E%3C%2Fp%3E%0A%0A%20%20%20%20%20%20%20%20%24%7B(modInfo.startMessage.showMoreInfoLink%20%26%26%20%2F%5E%5Ba-zA-Z_0-9%5C-%5C%2F%5D%2B%5C.md%24%2F.test(modInfo.startMessage.moreInfoLink))%20%3F%20moreInfo%20%3A%20''%7D%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22close-start-message%22%20class%3D%22mod-sel-btn%22%20style%3D%22display%3Ainline-block%3Bbackground-color%3A%20var(--mod-loader-button-bg)%3Bpadding%3A%204px%3Bmargin-top%3A%207px%3Bmargin-right%3A10px%3Bborder-radius%3A%203px%3Bborder%3A%202px%20solid%20var(--mod-loader-button-close-col)%3Bcolor%3A%20var(--mod-loader-button-close-col)%3Bfont-weight%3A%20bold%3Buser-select%3A%20none%3Bcursor%3A%20pointer%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20Close%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%60%3B%0A%0A%20%20%20%20%2F%2FInsert%20html%20for%20custom%20preset%20export%20dialogue%20box.%0A%20%20%20%20let%20startMessageModalContainer%20%3D%20document.createElement('div')%3B%0A%20%20%20%20startMessageModalContainer.innerHTML%20%3D%20startMessagePopup%3B%0A%20%20%20%20startMessageModalContainer.id%20%3D%20'start-message-dialogue-container'%3B%0A%20%20%20%20startMessageModalContainer.style%20%3D%20'position%3Afixed%3B%20width%3A100%25%3B%20height%3A100%25%3B%20z-index%3A%209999999%3B%20left%3A0%3B%20top%3A0'%3B%0A%20%20%20%20document.body.appendChild(startMessageModalContainer)%3B%0A%0A%20%20%20%20document.getElementById('start-message-explanatory-text').textContent%20%3D%20modInfo.startMessage.explanatoryText%3B%0A%0A%20%20%20%20if(advancedSettings%20%26%26%20advancedSettings.darkModTheme)%20%7B%0A%20%20%20%20%20%20document.getElementById('start-message-dialogue-container').classList.add('dark-mod-theme')%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20document.getElementById('close-start-message').addEventListener('click'%2C%20function()%20%7B%0A%20%20%20%20%20%20document.getElementById('start-message-dialogue-container').remove()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2FCurrently%2C%20we%20just%20ensure%20that%20the%20apply%20button%20doesn't%20have%20the%20%22Applied!%22%20text%0A%20%20%2F%2FIn%20the%20future%2C%20we%20may%20make%20is%20more%20obvious%20that%20clicking%20apply%20is%20needed.%0A%20%20function%20showSettingChanged()%20%7B%0A%20%20%20%20document.getElementById('apply-mod').textContent%20%3D%20'Apply'%3B%0A%20%20%7D%0A%0A%20%20%2F%2FIt's%20possible%20that%20the%20snake%20code%20has%20changed%20URL%20or%20changed%20in%20some%20other%20way%20and%20we%20weren't%20able%20to%20alter%20it.%20If%20so%20then%20show%20an%20indicator.%0A%20%20function%20checkFoundSnakeCode()%20%7B%0A%20%20%20%20const%20currentlySelectedMod%20%3D%20localStorage.getItem('snakeChosenMod')%3B%0A%20%20%20%20if(currentlySelectedMod%20%3D%3D%3D%20null%20%7C%7C%20currentlySelectedMod%20%3D%3D%3D%20'none')%20%7B%0A%20%20%20%20%20%20%2F%2FDon't%20worry%20about%20whether%20or%20not%20we've%20found%20the%20snake%20code%20since%20we're%20not%20running%20a%20mod.%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if(window.hasFoundSnakeCodeYet)%20%7B%0A%20%20%20%20%20%20%2F%2FWe're%20good%2C%20we've%20found%20the%20snake%20code%20so%20it%20hasn't%20changed%20location%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FOtherwise%20show%20a%20message%20to%20the%20user.%0A%20%20%20%20let%20codeNotFoundMessage%20%3D%20document.getElementById('code-not-found-message')%3B%0A%20%20%20%20if(codeNotFoundMessage)%20%7B%0A%20%20%20%20%20%20codeNotFoundMessage.style.display%20%3D%20'block'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FMake%20sure%20that%20the%20indicator%20is%20actually%20visible%0A%20%20%20%20let%20modIndicatorEl%20%3D%20document.getElementById('mod-indicator')%3B%0A%20%20%20%20if(modIndicatorEl)%20%7B%0A%20%20%20%20%20%20modIndicatorEl.style.display%20%3D%20'block'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20window.showSnakeErrMessage%20%3D%20true%3B%2F%2FUsed%20to%20prevent%20the%20indicator%20being%20auto-hidden%0A%20%20%7D%0A%7D%0A%0Awindow.testMod%20%3D%20%7B%7D%3B%0Awindow.testMod.runCodeBefore%20%3D%20function()%20%7B%0A%20%20%0A%7D%0Awindow.testMod.alterSnakeCode%20%3D%20function(code)%20%7B%0A%20%20code%20%3D%20code.replaceAll('.66'%2C'.36')%0A%0A%20%20return%20code%3B%0A%7D%0Awindow.testMod.runCodeAfter%20%3D%20function()%20%7B%0A%0A%7D%0A%0Afunction%20loadAndRunCodeSynchronous(url)%20%7B%0A%20%20let%20req%20%3D%20new%20XMLHttpRequest()%3B%0A%20%20req.open('GET'%2C%20url%2C%20false)%3B%0A%20%20req.onload%20%3D%20function()%20%7B%0A%20%20%20%20if(this.status%20%3D%3D%3D%20200)%20%7B%0A%20%20%20%20%20%20(1%2Ceval)(this.responseText)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20console.log(%60Loading%20selected%20mod%20returned%20non-200%20status.%20Received%3A%20%24%7Bthis.status%7D%60)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20req.onerror%20%3D%20function(event)%20%7B%0A%20%20%20%20console.error(%60Error%20when%20attempting%20to%20retrieve%20mod%20code%20from%20%24%7Burl%7D%60)%3B%0A%20%20%20%20console.log(event)%3B%0A%20%20%7D%3B%0A%20%20req.send()%3B%0A%7D%0A%0Awindow.addEventListener('load'%2C%20addModSelectorPopup)%3B%0A%0A%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%2F%2FUtility%20functions%20below%0A%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%0Awindow.swapInMainClassPrototype%20%3D%20function(mainClass%2C%20functionText)%20%7B%0A%20%20if(%2F%5E%5B%24a-zA-Z0-9_%5D%7B0%2C8%7D%3Dfunction%2F.test(functionText))%20%7B%0A%20%20%20%20throw%20new%20Error(%22Error%2C%20function%20is%20of%20form%20abc%3Dfunction()%2C%20but%20this%20only%20works%20for%20stuff%20like%20s_.abc%3Dfunction()%22)%3B%0A%20%20%7D%0A%20%20functionText%20%3D%20assertReplace(functionText%2C%20%2F%5E%5B%24a-zA-Z0-9_%5D%7B0%2C8%7D%2F%2C%60%24%7BmainClass%7D.prototype%60)%3B%0A%20%20return%20functionText%3B%0A%7D%0A%0A%2F*%0AThis%20function%20will%20search%20for%20a%20function%2Fmethod%20in%20some%20code%20and%20return%20this%20function%20as%20a%20string%0A%0Acode%20will%20usually%20be%20the%20snake%20source%20code%0A%0AfunctionSignature%20will%20be%20regex%20matching%20the%20beginning%20of%20the%20function%2Fmethod%20(must%20end%20in%20%24)%2C%0Afor%20example%20if%20we%20are%20trying%20to%20find%20a%20function%20like%20s_xD%20%3D%20function(a%2C%20b%2C%20c%2C%20d%2C%20e)%20%7B......%7D%0Athen%20put%20functionSignature%20%3D%20%2F%5B%24a-zA-Z0-9_%5D%7B0%2C8%7D%3Dfunction%5C(a%2Cb%2Cc%2Cd%2Ce%5C)%24%2F%0A%0AsomethingInsideFunction%20will%20be%20regex%20matching%20something%20in%20the%20function%0Afor%20example%20if%20we%20are%20trying%20to%20find%20a%20function%20like%20s_xD%20%3D%20function(a%2C%20b%2C%20c%2C%20d%2C%20e)%20%7B...a.Xa%26%2610!%3D%3Da.Qb...%7D%0Athen%20put%20somethingInsideFunction%20%3D%20%2Fa%5C.%5B%24a-zA-Z0-9_%5D%7B0%2C8%7D%26%2610!%3D%3Da%5C.%5B%24a-zA-Z0-9_%5D%7B0%2C8%7D%2F%0A*%2F%0Awindow.findFunctionInCode%20%3D%20function(code%2C%20functionSignature%2C%20somethingInsideFunction%2C%20logging%20%3D%20false)%20%7B%0A%20%20let%20functionSignatureSource%20%3D%20functionSignature.source%3B%0A%20%20let%20functionSignatureFlags%20%3D%20functionSignature.flags%3B%2F%2FProbably%20empty%20string%0A%0A%20%20%2F*Check%20functionSignature%20ends%20in%20%24*%2F%0A%20%20if%20(functionSignatureSource%5BfunctionSignatureSource.length%20-%201%5D%20!%3D%3D%20%22%24%22)%20%7B%0A%20%20%20%20throw%20new%20Error(%22functionSignature%20regex%20should%20end%20in%20%24%22)%3B%0A%20%20%7D%0A%0A%20%20%2F*Allow%20line%20breaks%20after%20commas%20or%20%3D.%20This%20is%20bit%20sketchy%2C%20but%20should%20be%20ok%20as%20findFunctionInCode%20is%20used%20in%20a%20quite%20limited%20way*%2F%0A%20%20functionSignatureSource.replaceAll(%2F%2C%7C%3D%2Fg%2C'%24%26%5C%5Cn%3F')%3B%0A%20%20functionSignature%20%3D%20new%20RegExp(functionSignatureSource%2C%20functionSignatureFlags)%3B%0A%0A%20%20%2F*get%20the%20position%20of%20somethingInsideFunction*%2F%0A%20%20let%20indexWithinFunction%20%3D%20code.search(somethingInsideFunction)%3B%0A%20%20if%20(indexWithinFunction%20%3D%3D%20-1)%20%7B%0A%20%20%20%20console.log(%22%25cCouldn't%20find%20a%20match%20for%20somethingInsideFunction%22%2C%20%22color%3Ared%3B%22)%3B%0A%20%20%20%20diagnoseRegexError(code%2C%20somethingInsideFunction)%3B%0A%20%20%7D%0A%0A%20%20%2F*expand%20outwards%20from%20somethingInsideFunction%20until%20we%20get%20to%20the%20function%20signature%2C%20then%20count%20brackets%0A%20%20to%20find%20the%20end%20of%20the%20function*%2F%0A%20%20let%20startIndex%20%3D%200%3B%0A%20%20for%20(let%20i%20%3D%20indexWithinFunction%3B%20i%20%3E%3D%200%3B%20i--)%20%7B%0A%20%20%20%20let%20startOfCode%20%3D%20code.substring(0%2C%20i)%3B%0A%20%20%20%20startIndex%20%3D%20startOfCode.search(functionSignature)%3B%0A%20%20%20%20if%20(startIndex%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(i%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20throw%20new%20Error(%22Couldn't%20find%20function%20signature%22)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20let%20bracketCount%20%3D%200%3B%0A%20%20let%20foundFirstBracket%20%3D%20false%3B%0A%20%20let%20endIndex%20%3D%200%3B%0A%20%20%2F*Use%20bracket%20counting%20to%20find%20the%20whole%20function*%2F%0A%20%20let%20codeLength%20%3D%20code.length%3B%0A%20%20for%20(let%20i%20%3D%20startIndex%3B%20i%20%3C%3D%20codeLength%3B%20i%2B%2B)%20%7B%0A%20%20%20%20if%20(!foundFirstBracket%20%26%26%20code%5Bi%5D%20%3D%3D%20%22%7B%22)%20%7B%0A%20%20%20%20%20%20foundFirstBracket%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(code%5Bi%5D%20%3D%3D%20%22%7B%22)%20%7B%0A%20%20%20%20%20%20bracketCount%2B%2B%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(code%5Bi%5D%20%3D%3D%20%22%7D%22)%20%7B%0A%20%20%20%20%20%20bracketCount--%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(foundFirstBracket%20%26%26%20bracketCount%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20endIndex%20%3D%20i%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(i%20%3D%3D%20codeLength)%20%7B%0A%20%20%20%20%20%20throw%20new%20Error(%22Couldn't%20pair%20up%20brackets%22)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20let%20fullFunction%20%3D%20code.substring(startIndex%2C%20endIndex%20%2B%201)%3B%0A%0A%20%20%2F*throw%20error%20if%20fullFunction%20doesn't%20contain%20something%20inside%20function%20-%20i.e.%20function%20signature%20was%20wrong*%2F%0A%20%20if%20(fullFunction.search(somethingInsideFunction)%20%3D%3D%3D%20-1)%20%7B%0A%20%20%20%20throw%20new%20Error(%22Function%20signature%20does%20not%20belong%20to%20the%20same%20function%20as%20somethingInsideFunction%22)%3B%0A%20%20%7D%0A%0A%20%20if%20(logging)%20%7B%0A%20%20%20%20console.log(fullFunction)%3B%0A%20%20%7D%0A%0A%20%20return%20fullFunction%3B%0A%7D%0A%0A%2F*%0ASame%20as%20replace%2C%20but%20throws%20an%20error%20if%20nothing%20is%20changed%0A*%2F%0Awindow.assertReplace%20%3D%20function(baseText%2C%20regex%2C%20replacement)%20%7B%0A%20%20if%20(typeof%20baseText%20!%3D%3D%20'string')%20%7B%0A%20%20%20%20throw%20new%20Error('String%20argument%20expected%20for%20assertReplace')%3B%0A%20%20%7D%0A%20%20let%20outputText%20%3D%20baseText.replace(regex%2C%20replacement)%3B%0A%0A%20%20%2F%2FThrow%20warning%20if%20nothing%20is%20replaced%0A%20%20if%20(baseText%20%3D%3D%3D%20outputText)%20%7B%0A%20%20%20%20diagnoseRegexError(baseText%2C%20regex)%3B%0A%20%20%7D%0A%0A%20%20return%20outputText%3B%0A%7D%0A%0A%2F*%0ASame%20as%20replaceAll%2C%20but%20throws%20an%20error%20if%20nothing%20is%20changed%0A*%2F%0Awindow.assertReplaceAll%20%3D%20function(baseText%2C%20regex%2C%20replacement)%20%7B%0A%20%20if%20(typeof%20baseText%20!%3D%3D%20'string')%20%7B%0A%20%20%20%20throw%20new%20Error('String%20argument%20expected%20for%20assertReplace')%3B%0A%20%20%7D%0A%20%20let%20outputText%20%3D%20baseText.replaceAll(regex%2C%20replacement)%3B%0A%0A%20%20%2F%2FThrow%20warning%20if%20nothing%20is%20replaced%0A%20%20if%20(baseText%20%3D%3D%3D%20outputText)%20%7B%0A%20%20%20%20diagnoseRegexError(baseText%2C%20regex)%3B%0A%20%20%7D%0A%0A%20%20return%20outputText%3B%0A%7D%0A%0A%2F%2FAlternate%20way%20to%20use%20assertReplace.%20Example%3A%20code%20%3D%20code.assertReplace('Thing%20to%20change'%2C%20'New%20thing')%3B%0AString.prototype.assertReplace%20%3D%20function(regex%2C%20replacement)%20%7B%0A%20%20return%20assertReplace(this.toString()%2C%20regex%2C%20replacement)%3B%0A%7D%3B%0A%0A%2F%2FSame%20as%20above%20for%20assertReplaceAll.%0AString.prototype.assertReplaceAll%20%3D%20function(regex%2C%20replacement)%20%7B%0A%20%20return%20assertReplaceAll(this.toString()%2C%20regex%2C%20replacement)%3B%0A%7D%3B%0A%0A%2F%2FAlso%20do%20this%20for%20assertMatch%20(We%20just%20have%20the%20prototype%20version%20for%20this).%0A%2F%2FSame%20as%20match%2C%20but%20throws%20an%20error%20if%20it's%20null.%0AString.prototype.assertMatch%20%3D%20function(regex)%20%7B%0A%20%20let%20output%20%3D%20this.match(regex)%3B%0A%0A%20%20%2F%2FThrow%20error%20if%20nothing%20was%20found%0A%20%20if(output%20%3D%3D%3D%20null)%20%7B%0A%20%20%20%20diagnoseRegexError(this%2C%20regex)%0A%20%20%7D%0A%20%20return%20output%3B%0A%7D%0A%0Awindow.diagnoseRegexError%20%3D%20function(baseText%2C%20regex)%20%7B%20%20%0A%20%20if(!(regex%20instanceof%20RegExp))%20%7B%0A%20%20%20%20throw%20new%20Error('Failed%20to%20find%20match%20using%20string%20argument.%20No%20more%20details%20available')%3B%0A%20%20%7D%0A%0A%20%20%2F%2Fsee%20if%20removing%20line%20breaks%20works%20-%20in%20that%20case%20we%20can%20give%20a%20more%20useful%20error%20message%0A%20%20let%20oneLineText%20%3D%20baseText.replaceAll(%2F%5Cn%2Fg%2C'')%3B%0A%20%20let%20res%20%3D%20regex.test(oneLineText)%3B%0A%0A%20%20%2F%2FIf%20line%20breaks%20don't%20solve%20the%20issue%20then%20throw%20a%20general%20error%0A%20%20if%20(!res)%20%7B%0A%20%20%20%20throw%20new%20Error('Failed%20to%20find%20match%20for%20regex.')%3B%0A%20%20%7D%0A%0A%20%20%2F%2FTry%20to%20suggest%20correct%20regex%20to%20use%20for%20searching%0A%20%20let%20regexSource%20%3D%20regex.source%3B%0A%20%20let%20regexFlags%20%3D%20regex.flags%3B%0A%0A%20%20%2F%2FLook%20at%20all%20the%20spots%20where%20line%20breaks%20might%20occur%20and%20try%20adding%20%5Cn%3F%20there%20to%20see%20if%20it%20makes%20a%20difference%0A%20%20%2F%2FIt%20might%20be%20easier%20to%20just%20crudely%20brute%20force%20putting%20%5Cn%3F%20at%20each%20possible%20index%3F%0A%20%20for(let%20breakableChar%20of%20%5B%22%25%22%2C%22%26%22%2C%22%5C%5C*%22%2C%22%5C%5C%2B%22%2C%22%2C%22%2C%22-%22%2C%22%5C%5C%2F%22%2C%22%3A%22%2C%22%3B%22%2C%22%3C%22%2C%22%3D%22%2C%22%3E%22%2C%22%5C%5C%3F%22%2C%22%7B%22%2C%22%5C%5C%7C%22%2C%22%7D%22%5D)%20%7B%0A%20%20%20%20for(let%20pos%20%3D%20regexSource.indexOf(breakableChar)%3B%20pos%20!%3D%3D%20-1%3B%20pos%20%3D%20regexSource.indexOf(breakableChar%2C%20pos%20%2B%201))%20%7B%0A%20%20%20%20%20%20%2F%2FRemake%20the%20regex%20with%20a%20new%20line%20at%20the%20candidate%20position%0A%20%20%20%20%20%20let%20candidateRegexSource%20%3D%20%60%24%7BregexSource.slice(0%2Cpos%20%2B%20breakableChar.length)%7D%5C%5Cn%3F%24%7BregexSource.slice(pos%20%2B%20breakableChar.length)%7D%60%3B%0A%20%20%20%20%20%20let%20candidateRegex%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20try%7B%0A%20%20%20%20%20%20%20%20candidateRegex%20%3D%20new%20RegExp(candidateRegexSource%2C%20regexFlags)%3B%0A%20%20%20%20%20%20%7D%20catch(err)%20%7B%0A%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2FSee%20if%20the%20new%20regex%20works%0A%20%20%20%20%20%20let%20testReplaceResult%20%3D%20candidateRegex.test(baseText)%3B%0A%20%20%20%20%20%20if(testReplaceResult)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2FSuccess%20we%20found%20the%20working%20regex!%20Give%20descriptive%20error%20message%20to%20user%20and%20log%20suggested%20regex%20with%20new%20line%20in%20correct%20place%0A%20%20%20%20%20%20%20%20console.log(%60Suggested%20regex%20improvement%3A%0A%24%7BcandidateRegex%7D%60)%3B%0A%20%20%20%20%20%20%20%20throw%20new%20Error('Suggested%20improvement%20found!%20Error%20with%20line%20break%2C%20failed%20to%20find%20match%20for%20regex.%20See%20logged%20output%20for%20regex%20to%20use%20instead%20that%20should%20hopefully%20fix%20this.')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20throw%20new%20Error('Line%20break%20error!%20Failed%20to%20failed%20to%20find%20match%20for%20regex%20-%20most%20likely%20caused%20by%20a%20new%20line%20break.%20No%20suggestions%20provided')%3B%0A%7D%0A%0Awindow.appendCodeWithinSnakeModule%20%3D%20function(snakeCode%2C%20codeToAdd%2C%20addSemicolonAfter)%20%7B%0A%20%20if(addSemicolonAfter)%20%7B%0A%20%20%20%20codeToAdd%20%2B%3D%20'%3B'%3B%0A%20%20%7D%0A%0A%20%20%2F%2FWe%20could%20remove%20the%20first%20bit%20before%20the%20pipe%20symbol%20in%20the%20future.%20This%20is%20just%20to%20handle%20before%20%2B%20after%20a%20snake%20update.%0A%20%20var%20newSnakeCode%20%3D%20snakeCode.replace(%2F%7D%5C)%5C(this%5C._s%5C)%3B%5Cn%5C%2F%5C%2F%20Google%20Inc%5C.%7C%7D%5C)%3B%5Cn%5C%2F%5C%2F%20Google%20Inc%5C.%2F%2C%20codeToAdd%20%2B%20'%24%26')%3B%0A%20%20return%20newSnakeCode%3B%0A%7D%0A%0A%2F%2FTurns%20_.abc%20into%20_s.abc%0Awindow.swapInSnakeGlobal%20%3D%20function(text)%20%7B%0A%20%20return%20assertReplace(text%2C%20%2F%5E_%5C.%2F%2C%20'_s.')%3B%0A%7D%7D)()%3B
`);
  iframeDoc.documentElement.appendChild(script);
</script>  
</body>
  
</html>
